CREATE DATABASE GROW;

CREATE TABLE IF NOT EXISTS public."USUARIO"
(
    "CPF" "VARCHAR(11)" NOT NULL,
    "NOME" "VARCHAR(80)",
    "SOOBRENOME" "VARCHAR(300)",
    "EMAIL" "VARCHAR(200)",
    "TELEFONE" VARCHAR(15),
    "SENHA" "VARCHAR(200)",
    "GENERO" "char",
    "ESTADO" "VARCHAR(200)",
    "CEP" numeric,
    "CIDADE" "VARCHAR(200)",
    "RUA" "VARCHAR(200)",
    "NUMERO" numeric,
    "COMPLEMENTO" "VARCHAR(200)",
    "BAIRRO" "VARCHAR(200)",
    "ACEITO_TERMOS_DE_CONDICAO" "char",
    "RECEBER_NOTIFICACOES" "char",
    "RECEBER_EMAILS" "char",
    "ESTADO_CIVIL" "char",
    "COMO_SOUBE_DO_SITE" "char",
    CONSTRAINT "USUARIO_pkey" PRIMARY KEY ("CPF")
);


CREATE TABLE IF NOT EXISTS public."ADMINISTRADOR"
(
    "LOGIN" "VARCHAR(200)" NOT NULL,
    "SENHA" "VARCHAR(200)" NOT NULL,
    CONSTRAINT "ADMINISTRADOR_pkey" PRIMARY KEY ("LOGIN")
);


CREATE TABLE IF NOT EXISTS public."EMPRESA"
(
    "CNPJ" "VARCHAR(20)" NOT NULL,
    "LOCALIZACAO" "VARCHAR(200)",
    "DESCRICAO" "VARCHAR(800)",
    "EMAIL" "VARCHAR(200)",
    "SENHA" "VARCHAR(200)",
    CONSTRAINT "EMPRESA_pkey" PRIMARY KEY ("CNPJ")
);


CREATE TABLE IF NOT EXISTS public."CURRICULO"
(
    "ID" "SERIAL" NOT NULL,
    "PROFISSAO" "VARCHAR(200)" NOT NULL,
    "ESCOLARIDADE" "VARCHAR(200)" NOT NULL,
    "EXPERIENCIAS ANTERIORES" "VARCHAR(200)" NOT NULL,
    "DESCRICAO" "VARCHAR(500)" NOT NULL,
    "FK_CPF_USUARIO" "char" NOT NULL,
    CONSTRAINT "CURRICULO_pkey" PRIMARY KEY ("ID"),
    CONSTRAINT "FK_CPF_USUARIO" FOREIGN KEY ("FK_CPF_USUARIO")
        REFERENCES public."USUARIO" ("CPF") MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE NO ACTION
        NOT VALID
);


CREATE TABLE IF NOT EXISTS public."VAGA"
(
    "NECESSIDADE" "VARCHAR(200)" NOT NULL,
    "DEPARTAMENTO" numeric NOT NULL,
    "SALARIO" numeric NOT NULL,
    "CARGA_HORARIA" "VARCHAR(200)" NOT NULL,
    "QUANTIDADE_DE_VAGAS" numeric NOT NULL,
    "DESCRICAO" "VARCHAR(500)" NOT NULL,
    "BENEFICIOS" "VARCHAR(400)",
    "ID" "SERIAL" NOT NULL,
	"FK_CNPJ_EMPRESA" "VARCHAR(25)" NOT NULL,
    CONSTRAINT "VAGA_pkey" PRIMARY KEY ("ID")
);


CREATE TABLE IF NOT EXISTS public."USUARIO_VAGA"
(
	"ID" "SERIAL" NOT NULL,
    "FK_USUARIO_CPF" "char" NOT NULL,
    "FK_ID_VAGA" "char" NOT NULL,
	CONSTRAINT "USUARIO_VAGA_pkey" PRIMARY KEY ("ID")
    CONSTRAINT "FK_ID_VAGA" FOREIGN KEY ("FK_ID_VAGA")
        REFERENCES public."VAGA" ("ID") MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE NO ACTION
        NOT VALID,
    CONSTRAINT "FK_USUARIO_CPF" FOREIGN KEY ("FK_USUARIO_CPF")
        REFERENCES public."USUARIO" ("CPF") MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE NO ACTION
        NOT VALID
);